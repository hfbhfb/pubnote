---
title: RWMutex原理
date: 2022-04-12 03:08:23
permalink: /pages/c7dc2b/
categories:
  - 后端
  - golangMore
tags:
  - 
---





## 读写锁用于读频率大于写频率的并发访问资源的场景.
  * 使用读写锁， 多个读操作可以同时持有锁， 并发能力将大大提升。
  * 读写锁能够解决的问题：
  * 写锁需要阻塞写锁： 一个协程拥有写锁时， 其他协程写锁定需要阻塞
  * 写锁需要阻塞读锁： 一个协程拥有写锁时， 其他协程读锁定需要阻塞
  * 读锁需要阻塞写锁： 一个协程拥有读锁时， 其他协程写锁定需要阻塞
  * 读锁不能阻塞读锁： 一个协程拥有读锁时， 其他协程也可以拥有读锁


## once
  * 经常用于初始化某些配置，如果不希望在init的时候就初始化而是用到的时候再懒加载，可以使用once。 
  * [参考](https://blog.csdn.net/waltonhuang/article/details/122090718)

原文链接：https://blog.csdn.net/qq1319713925/article/details/117291001

