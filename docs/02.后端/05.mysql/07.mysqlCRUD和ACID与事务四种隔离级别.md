---
title: mysqlCRUD和ACID与事务四种隔离级别
date: 2020-10-30 14:10:16
permalink: /pages/d22a3e/
categories:
  - 后端
  - mysql
tags:
  - 
---



## crud CRUD
  * crud是指在做计算处理时的增加(Create)、检索(Retrieve)、更新(Update)和删除(Delete)几个单词的首字母简写。crud主要被用在描述软件系统中数据库或者持久层的基本操作功能。


## ACID 事务管理（ACID） mvcc 谈到事务一般都是以下四点
  * 原子性（Atomicity） 原子性是指事务是一个不可分割的工作单位，事务中的操作要么都发生，要么都不发生。
  * 一致性（Consistency） 事务前后数据的完整性必须保持一致。
  * 隔离性（Isolation） 事务的隔离性是多个用户并发访问数据库时，数据库为每一个用户开启的事务，不能被其他事务的操作数据所干扰，多个并发事务之间要相互隔离。
  * 持久性（Durability） 持久性是指一个事务一旦被提交，它对数据库中数据的改变就是永久性的，接下来即使数据库发生故障也不应该对其有任何影响


## 事务四种隔离级别
  * 1、读未提交内容（read-uncommitted）
    * 在该隔离级别中，所有事务都可以看到其他未提交事务的执行结果。本隔离级别很少用于实际应用，因为它的性能也不比其他级别好多少。
      * 该隔离级别会出现的问题是：脏读(Dirty Read)，即读取到了未提交的数据。
  * 2、读取提交内容（read-committed）
    * 这是大多数数据库系统的默认隔离级别（但不是MySQL默认的）。它满足了隔离的简单定义：一个事务只能看见已经提交事务所做的改变。 该隔离级别会出现的问题是：不可重复读(Nonrepeatable Read)，即不可重复读意味着我们在同一个事务中执行完全相同的select语句时可能看到不一样的结果。 导致这种情况的原因可能有：
      * 1)、有一个交叉的事务有新的commit，导致了数据的改变;
      * 2)、一个数据库被多个实例操作时,同一事务的其他实例在该实例处理其间可能会有新的commit
  * 3、可重复读（repeatable-read）
    * 这是MySQL的默认事务隔离级别，它确保同一事务的多个实例在并发读取数据时，会看到同样的数据行。 不过理论上，这会导致另一个棘手的问题：幻读 （Phantom Read）。 简单的说，幻读指当用户读取某一范围的数据行时，另一个事务又在该范围内插入了新行，当用户再读取该范围的数据行时，会发现有新的“幻影” 行。 InnoDB和Falcon存储引擎通过多版本并发控制（MVCC，Multiversion Concurrency Control）机制解决了该问题。
  * 4、可串行化（serializable）
    * 这是最高的隔离级别，它通过强制事务排序，使之不可能相互冲突，从而解决幻读问题。简言之，它是在每个读的数据行上加上共享锁。在这个级别，可能导致大量的超时现象和锁竞争。 在这个级别，可能导致大量的超时现象和锁竞争。





